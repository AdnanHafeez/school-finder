<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
    <link href="css/jquery-ui.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/cartodb.css" />
    <link rel="stylesheet" href="css/jumbotron-narrow.css" />
    <link rel="stylesheet" href="css/style.css" />
	<!--font-awesome icons  -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <!--[if lte IE 8]>
      <link rel="stylesheet" href="http://libs.cartocdn.com/cartodb.js/v2/themes/css/cartodb.ie.css" />
    <![endif]-->

    <title>SchoolFinder</title>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="container">
      <div class="header">
        <!--
        <nav>
          <ul class="nav nav-pills pull-right">
            <li role="presentation" class="active"><a href="#">Home</a></li>
            <li role="presentation"><a href="#">About</a></li>
            <li role="presentation"><a href="#">Contact</a></li>
          </ul>
        </nav>
        -->
        <h3 class="text-muted">SchoolFinder</h3>
      </div>

      <div class="jumbotron block-intro">
        <h1>I'm looking for:</h1>
        <p class="lead">Select your school type below.</p>
        <p>
          <a class="btn primary school-level" href="#" role="button">Primary school</a>
          <a class="btn secondary school-level" href="#" role="button">Secondary school</a>
        </p>
        <p id="or">or</p>
        <p>Lookup a school by name:</p>
        <div class="row school-name-search">
          <div class="col-lg-12">
            <div class="input-group input-group-lg">
              <input id="schoolname" type="text" class="form-control" placeholder="A school named...">
              <span class="input-group-btn">
                <button id="button-search-name" data-input="schoolname" class="btn search" type="button">Search</button>
              </span>
            </div><!-- /input-group -->
          </div>
        </div><!-- /.row -->

        <p class="disclaimer">Information subject to change; by using this, you agree to not sue us.</p>
      </div>

      <div class="jumbotron block-address">
        <h1>I live at:</h1>
        <p class="lead">Provide your location so we can look up nearby schools:</p>
        <p>
          <input id="address" type="text" class="form-control" placeholder="Home address, suburb or postcode" data-google-places=true/></p>
          <a id="button-search-address" data-input="address" class="btn search" href="#" role="button">Search</a>
      </div>

      <!-- RESULT -->
      <div id="results-container">
        <div id="list-container"></div>
        <div id="map-container"></div>
        <div id="school-info-container"></div>
      </div>

      <footer class="footer">
        <p>
          A project by <a href="http://codeforaustralia.org">Code for Australia</a>. We're friendly. Say <a href="mailto:nsw-schoolfinder@codeforaustralia.org?subject=Hello!" title="Questions? Comments? Email us!">hello</a>!
          <a class="icon" href="http://github.com/codeforaustralia/school-finder" title="Our Open Source project code on GitHub">
            <span class="fa-stack fa-md">
              <i class="fa fa-circle fa-stack-2x fa-inverse"></i>
              <i class="fa fa-github-alt fa-stack-1x "></i>
            </span>
          </a>
          <a class="icon" href="mailto:nsw-schoolfinder@codeforaustralia.org?subject=Hi!" title="Questions? Comments? Email us!">
            <span class="fa-stack fa-md">
              <i class="fa fa-circle fa-stack-2x fa-inverse"></i>
              <i class="fa fa-envelope fa-stack-1x "></i>
            </span>
          </a>
        </p>
      </footer>

    </div> <!-- /container -->

    <!-- Modal -->
    <div class="modal fade" id="noResultsForAddressModal" tabindex="-1" role="dialog" aria-labelledby="noResultsForAddressModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="noResultsForAddressModalLabel">Nothing found. &nbsp; ๏̯̃๏</h4>
          </div>
          <div class="modal-body">
            <p>Sorry, I don't know of any schools there. Feel free to try another search though!</p>
            <p class="more-info">You might be interested in <a href="http://www.schools.nsw.edu.au/rde/ruraledu/index.php" target="_blank">rural and distance education</a> options.</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn" data-dismiss="modal">OK</button>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="noResultsForNameModal" tabindex="-1" role="dialog" aria-labelledby="noResultsForNameModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="noResultsForNameModalLabel">Nothing found. &nbsp; ๏̯̃๏</h4>
          </div>
          <div class="modal-body">
            <p>Sorry, I don't know of any schools like that. Feel free to try another search though!</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn" data-dismiss="modal">OK</button>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="tooManyResultsModal" tabindex="-1" role="dialog" aria-labelledby="tooManyResultsModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="tooManyResultsModalLabel">Yikes! There are too many results. &nbsp; ¯(°_o)/¯</h4> <!-- other emoji: ⊙﹏⊙ or ⊙▂⊙ -->
          </div>
          <div class="modal-body">
            <p>I found <span class="results-count">way too many</span> results and can't display them all. Feel free to try another search though!</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn" data-dismiss="modal">OK</button>
          </div>
        </div>
      </div>
    </div>

    <script id="result-list-template" type="text/x-handlebars-template">
      <div class="jumbotron results-list">
        <h1>Results</h1>
        <p class="lead">We found the following results; select one to view.</p>
        <ul>
          {{#each schools}}
            <li {{#if selected}} class="selected" {{/if}}><button class="btn" type="button" data-school-code="{{school_code}}">{{school_name}}</button></li>
          {{/each}}
        </ul>
      </div>
    </script>

    <script id="map-template" type="text/x-handlebars-template">
      <div class="cartodb-map" id="cartodb-map">
      </div>
    </script>

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <!-- <script src="../../assets/js/ie10-viewport-bug-workaround.js"></script> -->
    <script id="school-info-template" type="text/x-handlebars-template">

      <div id="school-info-{{school_code}}" class="school-info">

        <div class="school-name">
          <img class="icon" src="https://api.tiles.mapbox.com/v3/marker/pin-m-school+d72d6c@2x.png">
          {{school_name}}
        </div>

        <div class="school-details-container row">

          <div class="school-description col-md-6">
            <p class="field-label">About: </p><p class="field-data">{{description}}</p></li>
          </div>

          <ul class="school-details col-md-6">

              {{#if distance}}
                <li class="school-distance"><span class="field-label">Distance: </span><p><span class="field-data">{{distance}} as the crow flies</span><span class="route-distance"></span></p></li>
              {{/if}}

              <li class="school-address"><span class="field-label">Contact: </span><br><span class="field-data"><abbr title="{{street}}, {{town_suburb}} NSW {{postcode}}">{{street}}, {{town_suburb}}</abbr> <a href="https://www.google.com/maps/dir/{{#if homeLat}}{{homeLat}},{{homeLng}}{{/if}}/{{school_name}},+{{street}},+{{town_suburb}},+NSW+{{postcode}},+AU/@{{latitude}},{{longitude}},17z/" target="_blank">Get&nbsp;directions</a></span>
              <li class="school-phone">
                <span class="fa-stack">
                  <i class="fa fa-circle fa-stack-2x fa-inverse"></i>
                  <i class="fa fa-phone fa-stack-1x"></i>
                </span>
                <span class="sr-only">Phone: </span><span class="field-data">{{phone}}</span>
              </li>
              <li class="school-email">
                <span class="fa-stack">
                  <i class="fa fa-circle fa-stack-2x fa-inverse"></i>
                  <i class="fa fa-envelope fa-stack-1x"></i>
                </span>
                <span class="sr-only">Email: </span><span class="field-data"><a href="mailto:{{school_email}}">{{school_email}}</a></span>
              </li>
              <li class="school-website">
                <span class="fa-stack">
                  <i class="fa fa-circle fa-stack-2x fa-inverse"></i>
                  <i class="fa fa-globe fa-stack-1x"></i>
                </span>
                <span class="sr-only">Website: </span><span class="field-data"><a href="http://{{website}}" target="_blank">{{website}}</a></span>
              </li>
              <li class="school-level"><span class="field-label">Level: </span><span class="field-data">{{level}}, {{grades}}</span>
              {{#if is_specialty_possible}}
              <li class="school-specialty"><span class="field-label">Specialty: </span><span class="field-data">{{school_specialty_type}}</span></li>
              {{/if}}

              <li class="school-intensive-english"><span class="field-label">Intensive English Centre: </span><span class="field-data">{{yesNo intensive_english_centre}}</span></li>
              {{#if is_opportunity_class_possible}}
              <li class="school-opportunity-classes"><span class="field-label">Opportunity Class: </span><span class="field-data">{{yesNo opportunity_class}}</span></li>
              {{/if}}
              {{#if is_selective_possible}}
              <li class="school-selective"><span class="field-label">Selective: </span><span class="field-data">{{selective_school}}</span></li>
              {{/if}}
              <li class="school-enrollment"><span class="field-label">Enrolment trends: </span><span class="field-data"><a href="http://172.31.64.43:8000/views/NSW_NSSC_Dashboard/DashboardNSSCEnrolments?Deewr%20Id=4921" target="_blank">See CESE Data</a></span></li>
              <div style="display:none">
              <li class="school-established"><span class="field-label">Established: </span><span class="field-data">{{established}}</span></li></div>

              {{#if is_preschool_possible}}
              <li class="school-preschool"><span class="field-label">Preschool: </span><span class="field-data">{{yesNo preschool}}</span>. Use <a href="http://www.mychild.gov.au/sites/mychild" target="_blank" title="My Child site, from the federal government">this tool</a> to find more options</li>
              {{/if}}

              <li class="school-oshc"><span class="field-label">Outside school hours care: </span>{{#if oshc}} <br> {{/if}}
                <span class="field-data">{{yesNo oshc}}{{#if oshc}}- {{oshc_provider}} {{/if}}</span> <!-- (Contact the school to register.) -->
              </li>

              <li class="school-more-info"><span class="field-label">Need more info?</span> <span class="field-data"><a href="https://www.google.com.au/search?q={{school_name}}+nsw" target="_blank">Try Google</a></li>
          </ul>
        </div>
        {{#if homeAddress}}
          <p class='school-info-intro'>This school serves your location (<span class="address">{{homeAddress}}</span>).</p>
        {{/if}}
      </div>

    </script>

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
    <script type="text/javascript"
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyArZNZZBVUo35_M6KS7eiE35fIWTmutLpc&libraries=places">
    </script>
    <script src="js/vendor/jquery-ui/jquery-ui.js"></script> <!-- for autocomplete -->
    <!-- script src="js/vendor/cartodb.js"></script-->
    <script src="https://cartodb-libs.global.ssl.fastly.net/cartodb.js/v3/3.12/cartodb.js"></script>
    <script src="js/vendor/handlebars-v3.0.0.js"></script>
    <script src="js/vendor/Leaflet.MakiMarkers.js"></script>
    <script src="js/vendor/leaflet-easy-button.js"></script>
    <script src="js/google_geocoder.js"></script>
    <script src="js/models/school.js"></script>
    <script src="js/collections/schools.js"></script>
    <script src="js/config.js"></script>
    <script src="js/query.js"></script>
    <script src="js/util.js"></script>
    <script src="js/views/mapview.js"></script>
    <script src="js/views/listview.js"></script>
    <script src="js/views/schoolview.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/app.js"></script>

  </body>
</html>
